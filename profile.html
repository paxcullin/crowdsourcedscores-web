<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <link rel="apple-touch-icon" sizes="76x76" href="assets/img/crowdsourcedscores-icon.png">
    <link rel="icon" type="image/png" href="assets/img/crowdsourcedscores-icon.png">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
    <meta name="description" content="Beating the sportsbooks with the Wisdom of the Crowd NFL Score Predictions">
    <meta name="keywords" content="football,crowdsourced,wisdom,wisdom of the crowd,sportsbook,spread,total,moneyline">
    <base href="https://crowdsourcedscores.com">

    <title>Crowdsourced Scores - Beating the Sportsbooks through Crowd Wisdom</title>

    <meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport'/>

    <!--     Fonts and icons     -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons"/>
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700"/>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css"/>

    <!-- CSS Files -->
    <!--<link href="assets/css/material-kit.css" rel="stylesheet"/>-->
    <link href="assets/css/bootstrap.min.css" rel="stylesheet"/>
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css" rel="stylesheet"/>
    <link href="https:////maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap-theme.min.css" rel="stylesheet"/>
    <link href="assets/css/cws.css" rel="stylesheet"/>


    <!--   Core JS Files   -->
    <script src="assets/js/jquery.min.js" type="text/javascript"></script>



    <script src="assets/js/bootstrap.min.js" type="text/javascript"></script>
    <script src="assets/js/material.min.js"></script>
    <!--  Plugin for the Sliders, full documentation here: http://refreshless.com/nouislider/ -->
    <script src="assets/js/nouislider.min.js" type="text/javascript"></script>

    <!--  Plugin for the Datepicker, full documentation here: http://www.eyecon.ro/bootstrap-datepicker/ -->
    <script src="assets/js/bootstrap-datepicker.js" type="text/javascript"></script>

    <!-- Control Center for Material Kit: activating the ripples, parallax effects, scripts from the example pages etc -->
    <script src="assets/js/material-kit.js" type="text/javascript"></script>

    <!--<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery-modal/0.9.1/jquery.modal.min.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-modal/0.9.1/jquery.modal.min.js"></script>-->
    <!--Cognito Code-->
    <script type="text/javascript" src="assets/js/amazon-cognito-identity.js"></script>
    <!--End Cognito Code-->
    <!--JWT Decode Script-->
    <script src="assets/js/jwt-decode.min.js"></script>
    <script>

        // Setting location for the page

        var windowRedirect = window.location.protocol + "//" + window.location.hostname;
        if (window.location.pathname !== "/") {
            windowRedirect += window.location.pathname;
        }

        function getQueryStringValue (key) {  
            return decodeURIComponent(window.location.search.replace(new RegExp("^(?:.*[&\\?]" + encodeURIComponent(key).replace(/[\.\+\*]/g, "\\$&") + "(?:\\=([^&]*))?)?.*$", "i"), "$1"));  
        }  
    </script>
    <!--End JWT Decode Script-->

        <script>
                (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
                })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
                
                ga('create', 'UA-69748662-2', 'auto');
                ga('send', 'pageview');
            </script>
    <script src="assets/js/userAuth.js"></script>
    <!-- Handlebars.js -->
    <script type="text/javascript"
            src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.0.5/handlebars.js"></script>
        
            <script type="text/javascript">

        Handlebars.registerHelper('grouped_each', function(every, context, options) {
            var out = "", subcontext = [], i;
            if (context && context.length > 0) {
                for (i = 0; i < context.length; i++) {
                    if (i > 0 && i % every === 0) {
                        out += options.fn(subcontext);
                        subcontext = [];
                    }
                    subcontext.push(context[i]);
                }
                out += options.fn(subcontext);
            }
            return out;
        });

        Handlebars.registerHelper('ifCond', function (v1, operator, v2, options) {

            switch (operator) {
                case '==':
                    return (v1 == v2) ? options.fn(this) : options.inverse(this);
                case '===':
                    return (v1 === v2) ? options.fn(this) : options.inverse(this);
                case '!=':
                    return (v1 != v2) ? options.fn(this) : options.inverse(this);
                case '!==':
                    return (v1 !== v2) ? options.fn(this) : options.inverse(this);
                case '<':
                    return (v1 < v2) ? options.fn(this) : options.inverse(this);
                case '<=':
                    return (v1 <= v2) ? options.fn(this) : options.inverse(this);
                case '>':
                    return (v1 > v2) ? options.fn(this) : options.inverse(this);
                case '>=':
                    return (v1 >= v2) ? options.fn(this) : options.inverse(this);
                case '&&':
                    return (v1 && v2) ? options.fn(this) : options.inverse(this);
                case '||':
                    return (v1 || v2) ? options.fn(this) : options.inverse(this);
                default:
                    return options.inverse(this);
            }
        });

        Handlebars.registerHelper("math", function(lvalue, operator, rvalue, options) {
            lvalue = parseFloat(lvalue);
            rvalue = parseFloat(rvalue);
                
            return {
                "+": lvalue + rvalue,
                "-": lvalue - rvalue,
                "*": lvalue * rvalue,
                "/": lvalue / rvalue,
                "%": lvalue % rvalue
            }[operator];
        });

        Handlebars.registerHelper("rowColor", function(indexValue) {
            if ((indexValue % 2) === 0) {
                return new Handlebars.SafeString("class=\"alt-tr\"");
            }
        });
            </script>

    
        <script id="group-template" type="text/x-handlebars-template">
            <div class="container">
                <div class="row">
                    <div class="col-xs-12 col-sm-9">
                        <table class="rwd-table">
                            <thead>
                                <tr>
                                    <th>
                                        Rank
                                    </th>
                                    <th>
                                        User
                                    </th>
                                    <th>
                                        1
                                    </th>
                                </tr>
                            </thead>
                            <tbody>
                            {{#each groupMembers}}
                                <tr {{rowColor @index}} id="container-{{{this.username}}}">
                                    <td>{{{math @index '+' 1}}}</td>
                                    <td>
                                    {{{this.username}}}
                                    </td>
                                    <td></td>
                                </tr>
                            {{/each}}
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </script>
    <script src="https://www.google.com/jsapi" type="text/javascript"></script>
    <!-- CWS Profile Files -->
    <script src="assets/js/index.js"></script>
    <script src="assets/js/profile.js" type="text/javascript"></script>

    <script>
        $(document).ready(function () {

            if (cognitoUser) {
                showLogoutButton();
            } else {
                showLoginButton();
                $("#profileInformation").html("<button type=\"button\" class=\"btn btn-primary btn-big\" onclick=\"window.location=('https://crowdsourcedscores.auth.us-west-2.amazoncognito.com/login?response_type=code&client_id=2n15lhk845sucm0k4fejjqcbev&redirect_uri=" + windowRedirect + "')\">Login/Sign Up to View Your Profile</button>")
            }

            userProfileInfo();
            extendedProfile();
            
            $('#newsletter-signup-div').click(function () {
                ga('send','event','newsletter','viewed');

                $header = $(this);
                //getting the next element
                $content = $("#newsletter-form-div");
                //open up the content needed - toggle the slide- if visible, slide up, if not slidedown.
                $content.slideToggle(500, function () {
                    //execute this after slideToggle is done
                    //change text of header based on visibility of content div
                    $header.text(function () {
                        //change text based on condition
                        //return $content.is(":visible") ? "" : "";
                    });
                });
            });

            $('#mc-embedded-subscribe').click(function () {
                ga('send','event','newsletter','subscribed');

                $header = $(this);
                //getting the next element
                $content = $("#newsletter-form-div");
                //open up the content needed - toggle the slide- if visible, slide up, if not slidedown.
                $content.slideToggle(500, function () {
                    //execute this after slideToggle is done
                    //change text of header based on visibility of content div
                    $header.text(function () {
                        //change text based on condition
                        //return $content.is(":visible") ? "" : "";
                    });
                });
            });


            if (cognitoUser) {document.getElementById('profileName').innerText = cognitoUser.username;}

            $("#chartExpand").click(function () {

                $header = $(this);
                //getting the next element
                $content = $("#weeklyChart");
                //open up the content needed - toggle the slide- if visible, slide up, if not slidedown.
                $content.slideToggle(500, function () {
                    //execute this after slideToggle is done
                    //change text of header based on visibility of content div
                    $header.text(function () {
                        //change text based on condition
                        //return $content.is(":visible") ? "" : "";
                    });
                });

            });


            var btn_logout = document.getElementById('btn-logout');

        });


            // $("#loginButton").click(function() {
            //     $("#loginModal").modal('show',{
            //         fadeDuration: 100
            //     });
            // });

            var logout = function () {
                var cognitoUser = userPool.getCurrentUser();
                cognitoUser.signOut();
                showLoginButton();
                window.location = '/';
            };
            $("#logoutButton").click(function() {
                console.log("logout clicked")
                logout();
            });
        </script>

    </head>

    <body>
    <div id="fb-root"></div>
    <script>(function(d, s, id) {
        var js, fjs = d.getElementsByTagName(s)[0];
        if (d.getElementById(id)) return;
        js = d.createElement(s); js.id = id;
        js.src = 'https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v3.0&appId=1562547140702907&autoLogAppEvents=1';
        fjs.parentNode.insertBefore(js, fjs);
    }(document, 'script', 'facebook-jssdk'));</script>
    <!-- Navbar will come here -->

    <!-- end navbar -->
    <div class="wrapper">
        <!--<div class="header">-->

        <!--</div>-->
        <!-- you can use the class main-raised if you want the main area to be as a page with shadows -->
        <div class="main">
            <div class="container">
                <div class="row">
                    <div class="navbar navbar-default navbar-fixed-top">
                        <div class="container">
                            <div class="header-icon"><img src="https://crowdsourcedscores.files.wordpress.com/2016/11/cropped-css-logo-footballleft-webres-1300px.jpg?w=520" alt="Crowdsourced Scores"></div>
                            <div class="navbar-header"><a href="/" class="navbar-brand"><span class="hidden-xs">Crowdsourced Scores</span><span class="visible-xs">CS Scores</span></a>
                            <button type="button" data-toggle="collapse" data-target="#navbar-main" class="navbar-toggle"><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button>
                            </div>
                            <div id="navbar-main" class="navbar-collapse collapse">
                            <ul class="nav navbar-nav">
                                <li class="active"><a href="#">Home</a></li>
                                <li><a href="https://blog.crowdsourcedscores.com/" target="blog">Blog</a></li>
                                <li><a href="http://blog.crowdsourcedscores.com/2017-leaderboards/" target="leaderboard">Leaderboards</a></li>
                                <li class="dropdown">
                                    <a class="dropdown-toggle" data-toggle="dropdown" href="#" id="podcasts"><i class="fa fa-headphones" aria-hidden="true"></i> Podcast<span class="caret"></span></a>
                                    <ul class="dropdown-menu">
                                        <li style="text-align: center">
                                            <a target="_blank" href="https://itunes.apple.com/us/podcast/the-crowd-wisdom-sports-podcast/id1331165617?mt=2" style="display:inline-block;overflow:hidden;background:url(https://linkmaker.itunes.apple.com/assets/shared/badges/en-us/podcast-lrg.svg) no-repeat;width:133px;height:34px;background-size:contain;"><span style="height: 34px; width:133px; padding: 16px 0"></span></a>
                                        </li>
                                        <li style="text-align: center">
                                            <a href="https://www.stitcher.com/s?fid=162919&refid=stpr"><img src="https://secureimg.stitcher.com/promo.assets/stitcher-banner-88x31.jpg" width="88" height="31" alt="Listen to Stitcher"></a>
                                        </li>
                                        <li style="text-align: center">
                                            <a target="_blank" href='https://playmusic.app.goo.gl/?ibi=com.google.PlayMusic&amp;isi=691797987&amp;ius=googleplaymusic&amp;apn=com.google.android.music&amp;link=https://play.google.com/music/m/Ikd4ilzctaypo3idfl2admka4ve?t%3DThe_Crowd_Wisdom_Sports_Podcast%26pcampaignid%3DMKT-na-all-co-pr-mu-pod-16' rel='nofollow'><img width='125px' alt='Listen on Google Play Music' src='https://play.google.com/intl/en_us/badges-music/images/badges/en_badge_web_music.png'/></a>
                                        </li>
                                    </ul>
                                </li>
                                <li class="dropdown">
                                    <a class="dropdown-toggle" data-toggle="dropdown" href="#" id="profileName"><span class="caret"></span></a>
                                    <ul class="dropdown-menu">
                                        <li style="text-align: center"><button type="button" class="btn btn-default" id="btn-logout" onclick="logout()">Logout</button></li>
                                    </ul>
                                </li>
                            </ul>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row topRow">
                    <div class="col-xs-7 col-sm-10">
                        <!--<a href="https://crowdsourcedscores.auth.us-west-2.amazoncognito.com/login?response_type=token&client_id=2n15lhk845sucm0k4fejjqcbev&redirect_uri=https://crowdsourcedscores.com">Login</a>-->
                        <div id="loginButtons"></div>
                    </div>
                    <div class="col-xs-5 col-sm-2">
                        <a href="https://twitter.com/sourcedscores" class="twitter-follow-button" data-show-count="false">Follow @sourcedscores</a><script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script><br>
                        <iframe src="https://www.facebook.com/plugins/like.php?href=https%3A%2F%2Fwww.facebook.com%2Fcrowdsourcedscores&width=20px&layout=button_count&action=like&size=small&show_faces=false&share=true&height=46&appId=220211628373013" width="160px" height="20" style="border:none;overflow:hidden" scrolling="no" frameborder="0" allowTransparency="true"></iframe>

                    </div>
                </div>




            
                <div class="row form-horizontal profileDetails">
                    <h3><span id="profileName"></span>Profile</h3>
                    <!-- Name Field-->
                    <div class="form-group">
                        <label class="col-md-4 control-label">Name</label>  
                        <div class="col-md-4 inputGroupContainer">
                            <div class="input-group">
                                <span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
                                <input  name="name" id="name" class="form-control"  type="text" readonly>
                            </div>
                        </div>
                    </div>

                    <!-- Username input-->
                    <div class="form-group">
                        <label class="col-md-4 control-label">Username</label>  
                        <div class="col-md-4 inputGroupContainer">
                            <div class="input-group">
                                <span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
                                <input  name="username" id="profileUsername" class="form-control"  type="text">
                            </div>
                        </div>
                    </div>
                    <!-- Username input-->
                    <div class="form-group">
                        <label class="col-md-4 control-label">E-mail</label>  
                        <div class="col-md-4 inputGroupContainer">
                            <div class="input-group">
                                <span class="input-group-addon"><i class="glyphicon glyphicon-envelope"></i></span>
                                <input  name="email" id="profileEmail" class="form-control"  type="text">
                            </div>
                        </div>
                    </div>
                </div>
                <div class="errorText" id="updateErrorText"></div>
                <button id="updateProfile" onclick="updateProfile()" class="btn btn-primary">Update Profile</button>
            </div>
            <div class="row extendedDetail">
                <div class="col-md-6 predictionDetails">
                    <h3>Your Prediction Results</h3>
                    <div id="predictionDetails"></div>
                </div>
                <div class="col-md-6 groupDetails" id="allGroups">

                </div>
            </div>
        </div>
    </div>

</body>

</html>
